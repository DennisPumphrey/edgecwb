<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Wed Jul 15 14:50:10 MDT 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RingFile</title>
<meta name="date" content="2015-07-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RingFile";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RingFile.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/edgeoutput/Module.html" title="class in gov.usgs.anss.edgeoutput"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingFileInputer.html" title="class in gov.usgs.anss.edgeoutput"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/edgeoutput/RingFile.html" target="_top">Frames</a></li>
<li><a href="RingFile.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.edgeoutput</div>
<h2 title="Class RingFile" class="title">Class RingFile</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">gov.usgs.anss.edgeoutput.EdgeOutputer</a></li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.edgeoutput.RingFile</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../gov/usgs/anss/edgeoutput/RRPRingFile.html" title="class in gov.usgs.anss.edgeoutput">RRPRingFile</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">RingFile</span>
extends <a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></pre>
<div class="block">This block writes a ring file with a physical of size+1 blocks.  The blocks
   Are written into the file at (seq % size) +1 block (blocks 1-size+1).  The 
   first block is used to update where we are by writing out the value of the
 next sequence to write(nextout) and the size of the file.  The sequence numbers
 withing a ring increase until 2,000,000,000 is reached.  This sequence the maps to
 sequence zero again.  Because of this architecture the size of the file blocks must
 divide evenly into 2,000,000,000.  We specify the file in MB which is really 
 2000 blocks to insure this is true.

 Cooperates with OutputInfrastructure calls for each packet.  Has a mask of the data
 to include in this RingFile and a mask of the individual disable so each block can
 be evaluated for inclusion and temporary override.  Also enforces the restricted
 data flag if the file is not setup to allow restricted data on this ring.  This
 flag usually comes from the sendTo.allowrestricted which allow restricted data
 to things like VMS and other internal processing, but not to other SendTos.
 
 For use on static ram for file systems, set the updateMS to be really big - then 
 the last block written will be done only on termination. For RRPClient use the
 starting sequence is normally set in this file from the RRPclient last ack file
 so the last block written here is not really very important when the RRPClient is
 started by this RingFile RRPClient is really keeping track of last data to the file
 and the last acked packet.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#b">b</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.nio.ByteBuffer</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#bb">bb</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#dbg">dbg</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#disableMask">disableMask</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a></code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#dsk">dsk</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#filename">filename</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#isNew">isNew</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#lastUpdate">lastUpdate</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#mask">mask</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#MAX_SEQ">MAX_SEQ</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#nextout">nextout</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a></code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#par">par</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.util.TreeMap&lt;java.lang.String,<a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#rings">rings</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#sendLog">sendLog</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#size">size</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#terminate">terminate</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#updateMS">updateMS</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#zerobuf">zerobuf</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#RingFile(java.lang.String,%20java.lang.String,%20int,%20int,%20long,%20long,%20boolean,%20java.lang.String,%20gov.usgs.anss.edgethread.EdgeThread)">RingFile</a></strong>(java.lang.String&nbsp;path,
        java.lang.String&nbsp;name,
        int&nbsp;updMS,
        int&nbsp;sizeMB,
        long&nbsp;bit,
        long&nbsp;disable,
        boolean&nbsp;allow,
        java.lang.String&nbsp;args,
        <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)</code>
<div class="block">Creates a new instance of RingFile (note : this might have been easier if we had a constructor
 which takes the sendto object directly).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#clearUpdater()">clearUpdater</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#closeAll()">closeAll</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getFilename()">getFilename</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getNextout()">getNextout</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getSendtoMask()">getSendtoMask</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#getSize()">getSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#isNew()">isNew</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#processBlock(byte[],%20gov.usgs.edge.config.Channel)">processBlock</a></strong>(byte[]&nbsp;msbuf,
            <a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c)</code>
<div class="block">process a block through the EdgeOutputer system</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#processRawBlock(gov.usgs.edge.config.Channel,%20java.lang.StringBuilder,%20long,%20double,%20int,%20int[])">processRawBlock</a></strong>(<a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c,
               java.lang.StringBuilder&nbsp;seedname,
               long&nbsp;time,
               double&nbsp;rate,
               int&nbsp;nsamp,
               int[]&nbsp;data)</code>
<div class="block">This should never be called for a ring file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#prt(java.lang.String)">prt</a></strong>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#prt(java.lang.StringBuilder)">prt</a></strong>(java.lang.StringBuilder&nbsp;s)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#prta(java.lang.String)">prta</a></strong>(java.lang.String&nbsp;s)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#prta(java.lang.StringBuilder)">prta</a></strong>(java.lang.StringBuilder&nbsp;s)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#setDebug(boolean)">setDebug</a></strong>(boolean&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#terminate()">terminate</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.StringBuilder</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#toStringBuilder(java.lang.StringBuilder)">toStringBuilder</a></strong>(java.lang.StringBuilder&nbsp;tmp)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeBlock(byte[],%20int,%20int,%20long,%20long)">writeBlock</a></strong>(byte[]&nbsp;b,
          int&nbsp;off,
          int&nbsp;len,
          long&nbsp;sendto,
          long&nbsp;flags)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeNext(byte[])">writeNext</a></strong>(byte[]&nbsp;b)</code>
<div class="block">Write to this file the given data unconditionally</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeNext(byte[],%20int,%20int)">writeNext</a></strong>(byte[]&nbsp;b,
         int&nbsp;off,
         int&nbsp;len)</code>
<div class="block">Write to this file the given data unconditionally</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeNext(byte[],%20int,%20int,%20long,%20long)">writeNext</a></strong>(byte[]&nbsp;b,
         int&nbsp;off,
         int&nbsp;len,
         long&nbsp;sendto,
         long&nbsp;flags)</code>
<div class="block">Write to this file if the sento mask indictes this is the right file</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#writeNext(byte[],%20long,%20int)">writeNext</a></strong>(byte[]&nbsp;b,
         long&nbsp;sendto,
         int&nbsp;flags)</code>
<div class="block">Write to this file if the sento mask indictes this is the right file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html#zapFile(gov.usgs.anss.edge.RawDisk,%20int)">zapFile</a></strong>(<a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;dsk,
       int&nbsp;size)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_SEQ">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_SEQ</h4>
<pre>public static final&nbsp;int MAX_SEQ</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#gov.usgs.anss.edgeoutput.RingFile.MAX_SEQ">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="rings">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rings</h4>
<pre>protected static final&nbsp;java.util.TreeMap&lt;java.lang.String,<a href="../../../../gov/usgs/anss/edgeoutput/RingFile.html" title="class in gov.usgs.anss.edgeoutput">RingFile</a>&gt; rings</pre>
</li>
</ul>
<a name="zerobuf">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zerobuf</h4>
<pre>protected static&nbsp;byte[] zerobuf</pre>
</li>
</ul>
<a name="dsk">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dsk</h4>
<pre>protected&nbsp;<a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a> dsk</pre>
</li>
</ul>
<a name="size">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>protected&nbsp;int size</pre>
</li>
</ul>
<a name="nextout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextout</h4>
<pre>protected&nbsp;int nextout</pre>
</li>
</ul>
<a name="updateMS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMS</h4>
<pre>protected&nbsp;int updateMS</pre>
</li>
</ul>
<a name="lastUpdate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastUpdate</h4>
<pre>protected&nbsp;long lastUpdate</pre>
</li>
</ul>
<a name="filename">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filename</h4>
<pre>protected&nbsp;java.lang.String filename</pre>
</li>
</ul>
<a name="b">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>b</h4>
<pre>protected final&nbsp;byte[] b</pre>
</li>
</ul>
<a name="bb">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bb</h4>
<pre>protected&nbsp;java.nio.ByteBuffer bb</pre>
</li>
</ul>
<a name="terminate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>protected&nbsp;boolean terminate</pre>
</li>
</ul>
<a name="sendLog">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendLog</h4>
<pre>protected&nbsp;boolean sendLog</pre>
</li>
</ul>
<a name="mask">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mask</h4>
<pre>protected&nbsp;long mask</pre>
</li>
</ul>
<a name="disableMask">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableMask</h4>
<pre>protected&nbsp;long disableMask</pre>
</li>
</ul>
<a name="dbg">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbg</h4>
<pre>protected&nbsp;boolean dbg</pre>
</li>
</ul>
<a name="isNew">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNew</h4>
<pre>protected&nbsp;boolean isNew</pre>
</li>
</ul>
<a name="par">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>par</h4>
<pre>protected&nbsp;<a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a> par</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RingFile(java.lang.String, java.lang.String, int, int, long, long, boolean, java.lang.String, gov.usgs.anss.edgethread.EdgeThread)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RingFile</h4>
<pre>public&nbsp;RingFile(java.lang.String&nbsp;path,
        java.lang.String&nbsp;name,
        int&nbsp;updMS,
        int&nbsp;sizeMB,
        long&nbsp;bit,
        long&nbsp;disable,
        boolean&nbsp;allow,
        java.lang.String&nbsp;args,
        <a href="../../../../gov/usgs/anss/edgethread/EdgeThread.html" title="class in gov.usgs.anss.edgethread">EdgeThread</a>&nbsp;parent)
         throws java.io.FileNotFoundException,
                java.io.IOException</pre>
<div class="block">Creates a new instance of RingFile (note : this might have been easier if we had a constructor
 which takes the sendto object directly).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - The file path on which to make the RingFile or open it</dd><dd><code>name</code> - The filename of the ring (.ring will be added)</dd><dd><code>updMS</code> - The ms between updates of the header block (if zero, no updates)</dd><dd><code>sizeMB</code> - The size of the file in mB</dd><dd><code>bit</code> - The mask of the bit associated with this ringfile 1<<(sendto.id-1)</dd><dd><code>disable</code> - The disable mask</dd><dd><code>allow</code> - If true, allow restricted output to ring file</dd><dd><code>args</code> - Arguments to this (only -allowlog is currently supported)</dd><dd><code>parent</code> - The EdgeThread for logging, if null use Util.prt()</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if the file cannot be opened</dd>
<dd><code>java.io.IOException</code> - If one occurs.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;int&nbsp;getSize()</pre>
</li>
</ul>
<a name="zapFile(gov.usgs.anss.edge.RawDisk, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zapFile</h4>
<pre>public static&nbsp;void&nbsp;zapFile(<a href="../../../../gov/usgs/anss/edge/RawDisk.html" title="class in gov.usgs.anss.edge">RawDisk</a>&nbsp;dsk,
           int&nbsp;size)
                    throws java.io.IOException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="prt(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prt</h4>
<pre>protected final&nbsp;void&nbsp;prt(java.lang.String&nbsp;s)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - A string to print to the log</dd></dl>
</li>
</ul>
<a name="prt(java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prt</h4>
<pre>protected final&nbsp;void&nbsp;prt(java.lang.StringBuilder&nbsp;s)</pre>
</li>
</ul>
<a name="prta(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prta</h4>
<pre>protected final&nbsp;void&nbsp;prta(java.lang.String&nbsp;s)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - A String to print in the log preceded by the current time</dd></dl>
</li>
</ul>
<a name="prta(java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prta</h4>
<pre>protected final&nbsp;void&nbsp;prta(java.lang.StringBuilder&nbsp;s)</pre>
</li>
</ul>
<a name="getNextout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextout</h4>
<pre>public&nbsp;int&nbsp;getNextout()</pre>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="toStringBuilder(java.lang.StringBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toStringBuilder</h4>
<pre>public&nbsp;java.lang.StringBuilder&nbsp;toStringBuilder(java.lang.StringBuilder&nbsp;tmp)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#toStringBuilder(java.lang.StringBuilder)">toStringBuilder</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
</dl>
</li>
</ul>
<a name="getFilename()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilename</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFilename()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#getFilename()">getFilename</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
</dl>
</li>
</ul>
<a name="setDebug(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebug</h4>
<pre>public&nbsp;void&nbsp;setDebug(boolean&nbsp;b)</pre>
</li>
</ul>
<a name="terminate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>public&nbsp;void&nbsp;terminate()</pre>
</li>
</ul>
<a name="getSendtoMask()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSendtoMask</h4>
<pre>public&nbsp;long&nbsp;getSendtoMask()</pre>
</li>
</ul>
<a name="isNew()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNew</h4>
<pre>public&nbsp;boolean&nbsp;isNew()</pre>
</li>
</ul>
<a name="processRawBlock(gov.usgs.edge.config.Channel, java.lang.StringBuilder, long, double, int, int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRawBlock</h4>
<pre>public&nbsp;void&nbsp;processRawBlock(<a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c,
                   java.lang.StringBuilder&nbsp;seedname,
                   long&nbsp;time,
                   double&nbsp;rate,
                   int&nbsp;nsamp,
                   int[]&nbsp;data)</pre>
<div class="block">This should never be called for a ring file.  This is how RAW data fills the memory buffers in RingServerSeedLink</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#processRawBlock(gov.usgs.edge.config.Channel,%20java.lang.StringBuilder,%20long,%20double,%20int,%20int[])">processRawBlock</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - </dd><dd><code>seedname</code> - </dd><dd><code>time</code> - </dd><dd><code>rate</code> - </dd><dd><code>nsamp</code> - </dd><dd><code>data</code> - </dd></dl>
</li>
</ul>
<a name="processBlock(byte[], gov.usgs.edge.config.Channel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processBlock</h4>
<pre>public&nbsp;void&nbsp;processBlock(byte[]&nbsp;msbuf,
                <a href="../../../../gov/usgs/edge/config/Channel.html" title="class in gov.usgs.edge.config">Channel</a>&nbsp;c)</pre>
<div class="block">process a block through the EdgeOutputer system</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#processBlock(byte[],%20gov.usgs.edge.config.Channel)">processBlock</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>msbuf</code> - buffer of bytes containing miniseed data</dd><dd><code>c</code> - A channel for the seedname in the edgeblock</dd></dl>
</li>
</ul>
<a name="writeBlock(byte[], int, int, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBlock</h4>
<pre>public static&nbsp;void&nbsp;writeBlock(byte[]&nbsp;b,
              int&nbsp;off,
              int&nbsp;len,
              long&nbsp;sendto,
              long&nbsp;flags)</pre>
</li>
</ul>
<a name="writeNext(byte[], long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b,
             long&nbsp;sendto,
             int&nbsp;flags)</pre>
<div class="block">Write to this file if the sento mask indictes this is the right file</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>b</code> - The data buffer to write</dd><dd><code>sendto</code> - The raw sendto bit mask for this block</dd><dd><code>flags</code> - The channel flags, (which might be used to disable this temporarily)</dd></dl>
</li>
</ul>
<a name="writeNext(byte[], int, int, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b,
             int&nbsp;off,
             int&nbsp;len,
             long&nbsp;sendto,
             long&nbsp;flags)</pre>
<div class="block">Write to this file if the sento mask indictes this is the right file</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>b</code> - The data buffer to write</dd><dd><code>off</code> - The offset in buffer to start write</dd><dd><code>len</code> - The number of bytes to write</dd><dd><code>sendto</code> - The raw sendto bit mask for this block</dd><dd><code>flags</code> - The channel flags, (which might be used to disable this temporarily)</dd></dl>
</li>
</ul>
<a name="writeNext(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b)</pre>
<div class="block">Write to this file the given data unconditionally</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>b</code> - The data buffer to write, length is the length of the buffer</dd></dl>
</li>
</ul>
<a name="writeNext(byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeNext</h4>
<pre>public&nbsp;void&nbsp;writeNext(byte[]&nbsp;b,
             int&nbsp;off,
             int&nbsp;len)</pre>
<div class="block">Write to this file the given data unconditionally</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>b</code> - The data buffer to write</dd><dd><code>off</code> - The offset in buffer to start write</dd><dd><code>len</code> - The number of bytes to write</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/edgeoutput/EdgeOutputer.html" title="class in gov.usgs.anss.edgeoutput">EdgeOutputer</a></code></dd>
</dl>
</li>
</ul>
<a name="closeAll()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAll</h4>
<pre>public static&nbsp;void&nbsp;closeAll()</pre>
</li>
</ul>
<a name="clearUpdater()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearUpdater</h4>
<pre>protected&nbsp;void&nbsp;clearUpdater()</pre>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RingFile.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../gov/usgs/anss/edgeoutput/Module.html" title="class in gov.usgs.anss.edgeoutput"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../gov/usgs/anss/edgeoutput/RingFileInputer.html" title="class in gov.usgs.anss.edgeoutput"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/edgeoutput/RingFile.html" target="_top">Frames</a></li>
<li><a href="RingFile.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
