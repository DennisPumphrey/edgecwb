<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Mon May 23 04:04:13 MDT 2016 -->
<title>CWBFilterPicker</title>
<meta name="date" content="2016-05-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CWBFilterPicker";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../gov/usgs/anss/picker/CWBPicker.html" title="class in gov.usgs.anss.picker"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/picker/CWBFilterPicker.html" target="_top">Frames</a></li>
<li><a href="CWBFilterPicker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.picker</div>
<h2 title="Class CWBFilterPicker" class="title">Class CWBFilterPicker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.picker.CWBFilterPicker</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../gov/usgs/anss/picker/PickerInterface.html" title="interface in gov.usgs.anss.picker">PickerInterface</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">CWBFilterPicker</span>
extends java.lang.Object
implements <a href="../../../../gov/usgs/anss/picker/PickerInterface.html" title="interface in gov.usgs.anss.picker">PickerInterface</a></pre>
<div class="block">This is the USGS implementation of the FilterPicker using the CWBPicker
 parent class.  
 
 <PRE>
 switch    args           Description
 -c        NNSSSSSCCCLL The Standard nscl within the code - must match only one channel
 -tfilter  period      Longest period for a set of filtered signals from the differential signal of the raw broadband data Recommended:  300*(sample interval)
 -tlong    period      Time interval used to accumulate time-average statistics of the input data 500*(sample interval)
 -thold1   snr         Threshold - a trigger is declared when the summary Characteristic Function exceeds this. (Def=10);
 -thold2               A pick is declared if and when, within a window of predefined time width, tup after the trigger time, the integral of the summary Characteristic Function exceeds the value threshold2*tup
 -tup      secs        Time window used for pick validation Recommended 20*(sample interval)
 -tupmin      secs     Time window used for pick validation length of shortest pick interval
 -blocksize secs       The size (in sec) of block of data that will be requested from the QuerySpan and processed by FilterPicker each cycle
 -t         Title            Title for this describing type of FP being run (NE network, or global, etc)
 -b        yyyy/mm/dd-hh:mm  Time to start (normally not used), default is current time.
 -e        yyyy/mm/dd-hh:mm  Time to end (normally not used, default is 2099/12/31
 -pri      val         The thread priority of this thread - default=Thread.MIN_PRIOITY+1
 </PRE>
 
 <br>the filter window (filterWindow) in seconds determines how far back in time the previous samples are examined.  
 The filter window will be adjusted upwards to be an integer N power of 2 times the sample interval (deltaTime).  
 Then numRecursive = N + 1 "filter bands" are created.  For each filter band n = 0,N  the data samples are 
 processed through a simple recursive filter backwards from the current sample, and picking statistics and 
 characteristic function are generated.  Picks are generated based on the maximum of the characteristic 
 function values over all filter bands relative to the threshold values threshold1 and threshold2.
 
 <br> the long term window (longTermWindow) determines: a) a stabilization delay time after the 
 beginning of data; before this delay time picks will not be generated. b) the decay constant 
 of a simple recursive filter to accumulate/smooth all picking statistics and characteristic 
 functions for all filter bands.
 
 <br> threshold1 sets the threshold to trigger a pick event (potential pick).  This threshold 
 is reached when the (clipped) characteristic function for any filter band exceeds threshold1.
 <br>threshold2 sets the threshold to declare a pick (pick will be accepted when tUpEvent reached).  
 This threshold is reached when the integral of the (clipped) characteristic function for any 
 filter band over the window tUpEvent exceeds threshold2 * tUpEvent (i.e. the average 
 (clipped) characteristic function over tUpEvent is greater than threshold2
 
 <br>tUpEvent determines the maximum time the integral of the (clipped) characteristic 
 function is accumulated after threshold1 is reached (pick event triggered) to check 
 for this integral exceeding threshold2 * tUpEvent (pick declared).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/picker/CWBFilterPicker.html#CWBFilterPicker-java.lang.String-gov.usgs.anss.picker.PickerCallback-">CWBFilterPicker</a></span>(java.lang.String&nbsp;argline,
               <a href="../../../../gov/usgs/anss/picker/PickerCallback.html" title="interface in gov.usgs.anss.picker">PickerCallback</a>&nbsp;callback)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/picker/CWBFilterPicker.html#apply-java.util.GregorianCalendar-double-int:A-int-">apply</a></span>(java.util.GregorianCalendar&nbsp;time,
     double&nbsp;rate,
     int[]&nbsp;data,
     int&nbsp;npts)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/picker/CWBFilterPicker.html#clearMemory--">clearMemory</a></span>()</code>
<div class="block">this will be called when a gap in the data is detected to allow the picker to reset
 its history or other parameters.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.StringBuilder</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/picker/CWBFilterPicker.html#getStatusString--">getStatusString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/picker/CWBFilterPicker.html#getWarmupMS--">getWarmupMS</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/picker/CWBFilterPicker.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/picker/CWBFilterPicker.html#setArgs-java.lang.String-">setArgs</a></span>(java.lang.String&nbsp;s)</code>
<div class="block">The CWBPicker handles many arguments from the state file itself.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../gov/usgs/anss/picker/CWBFilterPicker.html#writestate--">writestate</a></span>()</code>
<div class="block">This method builds a StringBuilder of the state file parameters specific to the
 extending picker and then calls the parent writeState(StringBUilder) to actually
 combine and write the state file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CWBFilterPicker-java.lang.String-gov.usgs.anss.picker.PickerCallback-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CWBFilterPicker</h4>
<pre>public&nbsp;CWBFilterPicker(java.lang.String&nbsp;argline,
                       <a href="../../../../gov/usgs/anss/picker/PickerCallback.html" title="interface in gov.usgs.anss.picker">PickerCallback</a>&nbsp;callback)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getWarmupMS--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWarmupMS</h4>
<pre>public&nbsp;long&nbsp;getWarmupMS()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html#getWarmupMS--">getWarmupMS</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html" title="interface in gov.usgs.anss.picker">PickerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="getStatusString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatusString</h4>
<pre>public&nbsp;java.lang.StringBuilder&nbsp;getStatusString()</pre>
</li>
</ul>
<a name="writestate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writestate</h4>
<pre>public&nbsp;void&nbsp;writestate()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html#writestate--">PickerInterface</a></code></span></div>
<div class="block">This method builds a StringBuilder of the state file parameters specific to the
 extending picker and then calls the parent writeState(StringBUilder) to actually
 combine and write the state file.  The writestate()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html#writestate--">writestate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html" title="interface in gov.usgs.anss.picker">PickerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="setArgs-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setArgs</h4>
<pre>public&nbsp;void&nbsp;setArgs(java.lang.String&nbsp;s)
             throws java.io.FileNotFoundException,
                    java.io.IOException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html#setArgs-java.lang.String-">PickerInterface</a></code></span></div>
<div class="block">The CWBPicker handles many arguments from the state file itself. These are :
 Title, Starttime, Endtime, NSCL, CWBipaddress,CWBport Blocksize, Agency, Author and PickDBServer
 Each picker can have addition data specific to that picker.  The extending class
 needs to define these are read the in setArgs() and provide them as a StringBuilder
 in the writestate() method when it calls writeStateFile of the parent class.  The user
 can use the static statesb variable to make the state, but needs to synchronize its usage.
 Example :
 <PRE></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html#setArgs-java.lang.String-">setArgs</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html" title="interface in gov.usgs.anss.picker">PickerInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - String with all of the state file parameters not handled by CWBPicker - i.e. those for the specific picker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="clearMemory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearMemory</h4>
<pre>public&nbsp;void&nbsp;clearMemory()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html#clearMemory--">PickerInterface</a></code></span></div>
<div class="block">this will be called when a gap in the data is detected to allow the picker to reset
 its history or other parameters.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html#clearMemory--">clearMemory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html" title="interface in gov.usgs.anss.picker">PickerInterface</a></code></dd>
</dl>
</li>
</ul>
<a name="apply-java.util.GregorianCalendar-double-int:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apply</h4>
<pre>public&nbsp;void&nbsp;apply(java.util.GregorianCalendar&nbsp;time,
                  double&nbsp;rate,
                  int[]&nbsp;data,
                  int&nbsp;npts)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html#apply-java.util.GregorianCalendar-double-int:A-int-">apply</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/picker/PickerInterface.html" title="interface in gov.usgs.anss.picker">PickerInterface</a></code></dd>
<dd><code>rate</code> - Data rate in hertz</dd>
<dd><code>data</code> - Raw data as integers, this array can be modified in the implementation</dd>
<dd><code>npts</code> - The number of points in rawdata that are valid</dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws java.lang.InterruptedException,
                        java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../gov/usgs/anss/picker/CWBPicker.html" title="class in gov.usgs.anss.picker"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/picker/CWBFilterPicker.html" target="_top">Frames</a></li>
<li><a href="CWBFilterPicker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
