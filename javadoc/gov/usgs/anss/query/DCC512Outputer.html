<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Wed Jul 15 14:50:09 MDT 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DCC512Outputer</title>
<meta name="date" content="2015-07-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DCC512Outputer";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DCC512Outputer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../gov/usgs/anss/query/DCCOutputer.html" title="class in gov.usgs.anss.query"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/query/DCC512Outputer.html" target="_top">Frames</a></li>
<li><a href="DCC512Outputer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gov.usgs.anss.query</div>
<h2 title="Class DCC512Outputer" class="title">Class DCC512Outputer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../gov/usgs/anss/query/Outputer.html" title="class in gov.usgs.anss.query">gov.usgs.anss.query.Outputer</a></li>
<li>
<ul class="inheritance">
<li>gov.usgs.anss.query.DCC512Outputer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html" title="interface in gov.usgs.anss.edge">MiniSeedOutputHandler</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">DCC512Outputer</span>
extends <a href="../../../../gov/usgs/anss/query/Outputer.html" title="class in gov.usgs.anss.query">Outputer</a>
implements <a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html" title="interface in gov.usgs.anss.edge">MiniSeedOutputHandler</a></pre>
<div class="block">This class generates 512 byte mini-seed from the returned blocks from a 
 query.  It uses the following general algorithm :

1)  Create "spans" from the list of blocks (list of contiguous blocks)  This
insures blocks that are "overlapping" are in separate spans so the best spans
 can be chosen.

2)  The spans are processed to proved a single block covering each section of time.
Overlaps are guaranteed to be only one block long.

3)  The list of blocks are then processed into 512 byte blocks.  If any 4096 byte blocks
 are found they are expanded into 9 or fewer 512 blocks.  These are added built onto the list
 with duplicates eliminated.  
 T
4)  The blocks are output when a)  There is not enough room in the 4096 to add the next one,
b) The block to be added would cause the reverse integration error for the assembled block
c) The last block added is a "partial" that is not a full set of data frames.
d)  The next block to add is not contiguous in time
 
 (b) above occurs when the RawToMiniSeed class compresses data in more than one section but
in separate runs.  Whenthis happens the first difference in the block is to zero rather than
the last data value of the prior data frame.  The choice is to fix the difference or to break
the blocks at these boundaries.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../gov/usgs/anss/query/DCC512Outputer.html#DCC512Outputer()">DCC512Outputer</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/query/DCC512Outputer.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/seed/MiniSeed.html" title="class in gov.usgs.anss.seed">MiniSeed</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/query/DCC512Outputer.html#getOutblocks()">getOutblocks</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/query/DCC512Outputer.html#makeFile(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.util.ArrayList,%20java.util.Date,%20double,%20java.lang.String[])">makeFile</a></strong>(java.lang.String&nbsp;comp,
        java.lang.String&nbsp;filename,
        java.lang.String&nbsp;filemask,
        java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/seed/MiniSeed.html" title="class in gov.usgs.anss.seed">MiniSeed</a>&gt;&nbsp;blksin,
        java.util.Date&nbsp;beg,
        double&nbsp;duration,
        java.lang.String[]&nbsp;args)</code>
<div class="block">the main routine gives an UNSORTED list in blks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../gov/usgs/anss/query/DCC512Outputer.html#putbuf(byte[],%20int)">putbuf</a></strong>(byte[]&nbsp;b,
      int&nbsp;size)</code>
<div class="block">implement compression handler</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DCC512Outputer()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DCC512Outputer</h4>
<pre>public&nbsp;DCC512Outputer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getOutblocks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutblocks</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/seed/MiniSeed.html" title="class in gov.usgs.anss.seed">MiniSeed</a>&gt;&nbsp;getOutblocks()</pre>
</li>
</ul>
<a name="makeFile(java.lang.String, java.lang.String, java.lang.String, java.util.ArrayList, java.util.Date, double, java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeFile</h4>
<pre>public&nbsp;void&nbsp;makeFile(java.lang.String&nbsp;comp,
            java.lang.String&nbsp;filename,
            java.lang.String&nbsp;filemask,
            java.util.ArrayList&lt;<a href="../../../../gov/usgs/anss/seed/MiniSeed.html" title="class in gov.usgs.anss.seed">MiniSeed</a>&gt;&nbsp;blksin,
            java.util.Date&nbsp;beg,
            double&nbsp;duration,
            java.lang.String[]&nbsp;args)
              throws java.io.IOException</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../gov/usgs/anss/query/Outputer.html#makeFile(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.util.ArrayList,%20java.util.Date,%20double,%20java.lang.String[])">Outputer</a></code></strong></div>
<div class="block">the main routine gives an UNSORTED list in blks.  If it needs to be sorted call
 Collections.sort(blks);</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../gov/usgs/anss/query/Outputer.html#makeFile(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.util.ArrayList,%20java.util.Date,%20double,%20java.lang.String[])">makeFile</a></code>&nbsp;in class&nbsp;<code><a href="../../../../gov/usgs/anss/query/Outputer.html" title="class in gov.usgs.anss.query">Outputer</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>comp</code> - NNSSSSSCCCLL channel name</dd><dd><code>filename</code> - Filename for output</dd><dd><code>filemask</code> - The file mask with % operators for constructing a name (filename was derived from this)</dd><dd><code>blksin</code> - The list of MiniSeed blocks to put into the output file</dd><dd><code>beg</code> - The beginning time of the time series</dd><dd><code>duration</code> - The duration of time series desired</dd><dd><code>args</code> - The original arguments to EdgeQueryClient so that additional args can be used by each outputer</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="putbuf(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putbuf</h4>
<pre>public&nbsp;void&nbsp;putbuf(byte[]&nbsp;b,
          int&nbsp;size)</pre>
<div class="block">implement compression handler</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html#putbuf(byte[],%20int)">putbuf</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html" title="interface in gov.usgs.anss.edge">MiniSeedOutputHandler</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>b</code> - The buffer of Miniseed data</dd><dd><code>size</code> - The length of said buffer</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../gov/usgs/anss/edge/MiniSeedOutputHandler.html" title="interface in gov.usgs.anss.edge">MiniSeedOutputHandler</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DCC512Outputer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../gov/usgs/anss/query/DCCOutputer.html" title="class in gov.usgs.anss.query"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?gov/usgs/anss/query/DCC512Outputer.html" target="_top">Frames</a></li>
<li><a href="DCC512Outputer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
